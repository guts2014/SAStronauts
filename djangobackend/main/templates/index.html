<!DOCTYPE html>
<html>
  <head>
    <style>
        #searchbox {
            position: absolute;
            top: 6px;
            left: 45px;
            width: 270px;
            height: 30px;
            font-size: 22px;
            -webkit-border-radius: 0px;
            -moz-border-radius: 0px;
            border-radius: 0px;
        }
        #map_canvas {
          display: block;
          position: absolute;
          top: 0px;
          width: 99%;
          bottom: 0px;
        }
    </style>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js"></script>

    <script>
        var map;
        //setting up the google map
        function initialize() {
            var mapCanvas = document.getElementById('map_canvas');
            var mapOptions = {
                center: new google.maps.LatLng(0, 0),
                zoom: 3,
                mapTypeId: google.maps.MapTypeId.ROADMAP,
                zoomControl: false,
                panControl: false,
            }
            map = new google.maps.Map(mapCanvas, mapOptions)
        }
        google.maps.event.addDomListener(window, 'load', initialize);

//an example on how to iterate through the json daa loading it in to html
//var json = {'wikipedia': {'article': {'relevant_links': [{'url':'url1...'}, {'url': 'url2...'}]}}};

//$('#contents').append('<ul>');
//for (link in json['wikipedia'][article][relevant_links]) {
//    $('#contents').append('<li>' + link[url] + '</li>');
//}
    
    </script>

    <script>
    //A bunch of helper functions

    //All callback functions for get requests
    function SearchGetCallback(data){
        alert("data was: "+data);         
    }
    //In this script tag we will handle all input, like hitting enter on search box and clicking map icons.

        function searchKeyPress(e){
            if(e.keyCode == 13){ //if enter is pressed
                var pageaddress = "/api/query/?q=" + $("#searchbox").innerHTML.toString().replace(" ", "+");
                console.log("requesting:", pageaddress)
                //using jquery for a get request
                $.get(
                    pageaddress,
                    {},//empty parameters
                    SearchGetCallback
                    
                );
            }
        }


    </script>
  </head>
  <body>
    <div id="map_canvas"></div>
    <div>
    <input type="text", value="", placeholder="Search", id="searchbox", onkeypress="searchKeyPress"></input>
    </div>
    <div id='contents'></div>
  </body>
</html>
